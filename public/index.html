<html>

  <head>
  <title>Trainscape</title>
  <link rel="stylesheet" href="css/simple.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>

  <body>
  
    <div class="connect" id="connect">
      <div class="message"><p>Welcome Hacker,<br> Please enter your Hacker ID to connect with your agent.</p></div>
      
      <div style="margin-top:20px;">
      <input class="hackerid" type="text" id="room-code-input" placeholder="HACKER ID" maxlength="4" style="text-transform:uppercase" />
      <button id="connect-button">CONNECT</button>
      </div>
    </div>
   
    <div class="connect" id="waiting-for-start">
      <div><p>Connected!<br><br> Waiting for your agent to start the game...</p></div>
    </div>

    <button id="back-button">&lt; BACK</button>

    <div id="parent">
      <div class="navigator" id="navigator">
        <h1>HACKABLE OBJECTS</h1>
      </div>
      <div id="game-content"></div>
    </div>

    <pre id="messages" hidden></pre>

  </body>

  <script>     
  var ws = new WebSocket(location.origin.replace(/^http/, 'ws'));
  var puzzles = new Map();
  var currentHackableId;

  function selectHackable(id){
    console.log('select hackable: ' + id);

    document.querySelector('#navigator').style.display = "none";
    document.querySelector('#' + id).style.display = "block";
    document.querySelector('#back-button').style.display = "block";

    currentHackableId = id;
  }

  function selectPuzzle(puzzleId){
    selectHackable(puzzleId);
    ws.send(JSON.stringify({messageType: puzzleId + '_SELECTED'}));
  }

  function newNavigatorButton(id){
    var btn = document.createElement("BUTTON");
    btn.setAttribute('id', id + "-navigator-button");
    //btn.setAttribute('class', "puzzle-button-nav");
    btn.innerHTML = id;
    document.querySelector('#navigator').appendChild(btn);
    return btn;
  }

  </script>

  <script src="js/puzzle.js"></script>

  <script src="js/bot.js"></script>
  <script src="js/bot-setup.js"></script>

  <!--LIST OF PUZZLES-->
  <script src="js/puzzle-debriefcase.js"></script>
  <script src="js/puzzle-storage-box.js"></script>
  <script src="js/puzzle-drink-dispenser.js"></script>
  <script src="js/puzzle-door-panel.js"></script>
  <script src="js/puzzle-example.js"></script>
  <script src="js/info-passengers-list.js"></script>
  <script src="js/puzzle-train-settings.js"></script>
  <script src="js/puzzle-luggage-combo-lock.js"></script>
  <script src="js/main.js"></script>

</html>