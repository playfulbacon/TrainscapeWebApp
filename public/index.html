<html>

  <head>
  <title>Trainscape</title>
  <link rel="stylesheet" href="css/demo.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>

  <body>
  
    <div class="connect" id="connect">
      <div class="message"><p>Welcome Hacker,<br> Please enter your Hacker ID to connect with your agent.</p></div>
      <input class="hackerid" type="text" id="room-code-input" placeholder="HACKER ID" maxlength="4" style="text-transform:uppercase" />
      <button class="connect-button" id="connect-button">CONNECT</button>
    </div>
   
    <div class="grid-container" id="navigator" style="margin-top: 90px; height: 300px; padding-bottom:-70px;">
      <div class="panel_title">MAIN MENU</div>
    </div>

    <div><button id="back-button">&lt; BACK</button></div>

    <div class="connect" id="waiting-for-start">
      <div><p>Connected!<br><br> Waiting for your agent to start the game...</p></div>
    </div>

    <div id="game-content" style="margin-top:90px;"></div>

    <pre id="messages" style="margin-top:20px;" hidden></pre>

  </body>

  <script>     
  var ws = new WebSocket(location.origin.replace(/^http/, 'ws'));
  var puzzles = new Map();
  var currentPuzzleId = '';

  function selectPuzzle(puzzleId){
    console.log('select puzzle: ' + puzzleId);

    document.querySelector('#navigator').style.display = "none";
    document.querySelector('#' + puzzleId).style.display = "block";
    document.querySelector('#back-button').style.display = "block";

    currentPuzzleId = puzzleId;

    ws.send(JSON.stringify({messageType: currentPuzzleId + '_SELECTED'}));

    //TODO: set solved color and text based on current puzzle's solved
  }

  function solvePuzzle(puzzleId){
    puzzles.get(puzzleId).solved = true;
  }

  </script>

  <script src="js/puzzle.js"></script>

  <!--LIST OF PUZZLES-->
  <script src="js/puzzle-storage-box.js"></script>
  <script src="js/puzzle-drink-dispenser.js"></script>
  <script src="js/puzzle-door-panel.js"></script>
  <script src="js/puzzle-example.js"></script>

  <script src="js/main.js"></script>

</html>